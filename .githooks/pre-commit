#!/bin/sh
# æäº¤å‰è‡ªåŠ¨æ ¼å¼åŒ– Go ä»£ç 
# è®¾ç½®: git config core.hooksPath .githooks

STAGED=$(git diff --cached --name-only --diff-filter=ACM | grep '\.go$' || true)

if [ -z "$STAGED" ]; then
  exit 0
fi

echo "ğŸ”§ æ ¼å¼åŒ– Go æ–‡ä»¶..."
echo "$STAGED" | xargs gofmt -w
echo "$STAGED" | xargs git add

exit 0
